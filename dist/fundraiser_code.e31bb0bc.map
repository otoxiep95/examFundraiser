{"version":3,"sources":["index.js"],"names":["user_endpoint","main","document","querySelector","registerForm","addEventListener","e","preventDefault","console","log","elements","newUserData","firstname","ifirstname","value","lastname","ilastname","username","iusername","email","iemail","password","ipassword","date","Date","toDateString","checkUsername","userTaken","fetch","then","res","json","data","forEach","user","createUser","loginForm","verifyUser","userValid","id","window","location","method","body","JSON","stringify","headers","Accept","d"],"mappings":"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","file":"fundraiser_code.e31bb0bc.map","sourceRoot":"..","sourcesContent":["\"use strict\";\n\nlet user_endpoint = \"https://5bfd357c827c3800139ae907.mockapi.io/treefund/user\";\n\nlet main = document.querySelector(\"main\");\nlet registerForm = document.querySelector(\".register-form\");\n\nregisterForm.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  console.log(e);\n  console.log(registerForm.elements);\n  const newUserData = {\n    firstname: registerForm.elements.ifirstname.value,\n    lastname: registerForm.elements.ilastname.value,\n    username: registerForm.elements.iusername.value,\n    email: registerForm.elements.iemail.value,\n    password: registerForm.elements.ipassword.value,\n    date: new Date().toDateString()\n  };\n  checkUsername(registerForm.elements.iusername.value);\n  function checkUsername(username) {\n    let userTaken = false;\n    fetch(user_endpoint)\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        data.forEach(user => {\n          if (user.username === username) {\n            console.log(\"found\");\n            userTaken = true;\n          }\n        });\n      });\n\n    if (!userTaken) {\n      createUser(newUserData);\n    } else {\n      console.log(\"username taken please choose another one\");\n    }\n  }\n});\n\nlet loginForm = document.querySelector(\".login-form\");\nloginForm.addEventListener(\"submit\", e => {\n  e.preventDefault();\n\n  console.log(loginForm.elements);\n\n  verifyUser(\n    loginForm.elements.username.value,\n    loginForm.elements.password.value\n  );\n});\n\nfunction verifyUser(username, password) {\n  let userValid = false;\n  fetch(user_endpoint)\n    .then(res => res.json())\n    .then(data => {\n      console.log(username, password);\n      console.log(data);\n\n      data.forEach(user => {\n        //verify if there is usernamer\n        if (user.username === username) {\n          console.log(\"found\");\n          console.log(user.password);\n          //within this verify if the password matches\n          if (user.password === password) {\n            userValid = true;\n            console.log(\"go to user profile id:\" + user.id);\n            window.location = \"myforest.html?id=\" + user.id;\n          }\n        }\n      });\n      console.log(userValid);\n      //return userValid;\n    });\n}\n\nfunction createUser(newUserData) {\n  fetch(user_endpoint, {\n    method: \"post\",\n    body: JSON.stringify(newUserData),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    }\n  })\n    .then(res => res.json())\n    .then(d => { });\n}\n"]}